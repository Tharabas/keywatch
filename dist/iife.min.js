var Keywatch=function(t){"use strict";function e(t){return t.slice(-1)[0]}function n(t,e){return-1!==t.indexOf(e)}function r(t){return"string"==typeof t}let s=!1;const i=[];let o=[],c=1;const u=Object.freeze(["Shift","Control","Alt","Meta"]),a=Object.freeze(["up","down"]),h=Object.freeze(["INPUT","TEXTAREA","SELECT"]),l=-1!==navigator.userAgent.indexOf("Macintosh");function f(){s&&(document.addEventListener("keyup",p),document.addEventListener("keydown",p),s=!1)}function p(t){const r=o.slice(0);if("keyup"===t.type){const n=e(r);n&&"keydown"===n.type&&n.code===t.code&&r.pop()}r.push(t);let s=!1;for(const e of i){if(t.defaultPrevented)break;if(e.matches(r)&&(s=!0,e.reaction(t,e.sequence),e.preventsDefault)){t.preventDefault();break}}if(s)o=[];else{for(function(t){return n(u,t.key)}(t)&&r.pop();r.length>c;)r.shift();o=r}}function y(t,e,n=null){const r=new K(t,e,n);return r.keyCount>c&&(c=r.keyCount,c>10&&console.warn(`increasing MaxKeptKeys to ${c} for sequence`,r.sequence)),i.unshift(r),s||s||(s=!0,document.addEventListener("keyup",p),document.addEventListener("keydown",p)),()=>d(r)}function d(t){for(let e=i.length-1;e>=0;e--)i[e]===t&&i.splice(e,1);m()}function w(t){for(let e=i.length-1;e>=0;e--)i[e].ref===t&&i.splice(e,1);m()}function m(){c=Math.max(1,...i.map((t=>t.keyCount))),0===i.length&&s&&f()}class k{constructor(t,e=!0,n=!1,r=!1,s=!1,i=!1,o=null,c="up"){this.code=t,this.isCode=e,this.shiftKey=n,this.ctrlKey=r,this.altKey=s,this.metaKey=i,this.inInput=o,this.type=(c.startsWith("key")?c:"key"+c).toLowerCase()}matches(t){if(t.type!==this.type)return!1;if(!this.inInput&&n(h,t.target.tagName))return!1;if(t.shiftKey!==this.shiftKey)return!1;if(t.ctrlKey!==this.ctrlKey)return!1;if(t.altKey!==this.altKey)return!1;if(t.metaKey!==this.metaKey)return!1;const e=this.isCode?t.code:t.key;return this.code===e}get outputType(){return this.type.substring(3).split("").map(((t,e)=>0===e?t.toUpperCase():t)).join("")}toString(t=!1){return t?[!this.inInput&&":",this.metaKey&&(l?"⌘":"@"),this.ctrlKey&&"^",this.altKey&&(l?"⌥":"#"),this.shiftKey&&"+",this.code,"Up"===this.outputType?"":this.outputType].filter((t=>t)).join(""):[!this.inInput&&"NoInput",this.metaKey&&(l?"Command ":"Meta"),this.ctrlKey&&"Control",this.altKey&&"Alt",this.shiftKey&&"Shift",this.code,this.outputType].filter((t=>t)).join(" ")}static parse(t){if(t instanceof k)return t;const r=t.replace(/:/," NoInput ").replace(/([@⌘]|Command)/i," Meta ").replace(/(\^|ctrl)/," Control ").replace(/([#⌥]+)/," Alt ").replace(/[+⇧]+/," Shift ").replace(/⎋/," Escape ").replace(/⏎/," Return ").replace(/↑/," Up ").replace(/↓/," Down ").replace(/_+(\w+)/g,((t,e)=>" "+e)).split(/\s+/).map((t=>t.trim())).filter((t=>t.length>0));n(a,e(r).toLowerCase())||r.push(n(r,"Meta")||n(r,"Control")?"down":"up");const s=e(r).toLowerCase(),i=r.slice(-2)[0],o=i.length>1,c=r.slice(0,-2).map((t=>t.toLowerCase()));return new k(i,o,n(c,"shift"),n(c,"control"),n(c,"alt"),n(c,"meta"),!n(c,"noinput"),e(r),s)}}class g{constructor(t,e=!1){if(t.length<1)throw new Error("A KeySequence must contain at least one key, none provided!");this.keys=t,this.preventDefault=e}get keyCount(){return this.keys.length}matches(t){if(t.length<this.keyCount)return!1;const e=t.slice(-this.keyCount);for(let t=0,n=this.keyCount;t<n;t++){const n=this.keys[t],r=e[t];if(!n.matches(r))return!1}return!0}toString(t=!1){return this.keys.map((e=>e.toString(t))).join(", ")}static parse(t){if(t instanceof g)return t;let e=!1;const n=/^(!|no-?default |prevent )(.+)/i;r(t)&&n.test(t)&&(n.exec(t)[2],e=!0);const s=(Array.isArray(t)?t:t.split(/\s*,\s*/)).map(((e,n)=>{try{return k.parse(e)}catch(r){throw new Error(`Unable to parse key definition #${n} "${e}" in sequence "${t}"`)}}));return new g(s,e)}}class K{constructor(t,e,n){this.sequence=g.parse(t),this.reaction=e,this.ref=n}get keyCount(){return this.sequence.keyCount}get preventsDefault(){return this.sequence.preventDefault}matches(t){return this.sequence.matches(t)}hasRef(t){return this.ref===t}toString(){return this.sequence.toString()}}function C(t,e,n){if(t instanceof Promise)return t.then((e=>C(t,e)));var s;if(s=e,!Array.isArray(s)&&Object.prototype.isPrototypeOf(s)&&(e=Object.keys(e).map((t=>({key:t,handler:e[t]})))),!Array.isArray(e))throw new Error("shortcuts should be defined as an array!");const i=[];for(const n of e){const e=n.keys||n.key;let s=n.handler;if(r(s)){if(!this.hasOwnProperty(s)){console.warn("skipped binding %O to undefined method '%O' on %O",e,s,t);continue}s=t[s]}const o=y(e,s.bind(t),t);i.push(o)}return()=>i.forEach(((t,e)=>{try{t()}catch(n){console.warn("failed to dispose",t,e,n)}}))}return window.module&&window.module.hot&&window.module.hot.addDisposeHandler&&window.module.hot.addDisposeHandler(f),t.Mixin=function(t=null,e={}){return{mounted(){if(t){if(r(t)){let e=null;const n=t=>{if(e)try{e()}catch(t){console.warn("failed to unwatch",this,t)}e=t?C(this,t):null};return n(this[t]),void this.$watch(t,n)}C(this,"function"==typeof t?t.call(this):t)}},beforeDestroy(){w(this)},methods:{$watchKeys(t,e){return y(t,e,this)}}}},t.of=function(t){return{watch:(e,n)=>y(e,n,t),unwatch(e){void 0===e?w(t):d(e)}}},t.unwatch=d,t.unwatchAll=w,t.watch=y,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
